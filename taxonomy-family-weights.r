{"cells":[{"source":"<a href=\"https://www.kaggle.com/chasset/taxonomy-family-weights-happywhale?scriptVersionId=89657346\" target=\"_blank\"><img align=\"left\" alt=\"Kaggle\" title=\"Open in Kaggle\" src=\"https://kaggle.com/static/images/open-in-kaggle.svg\"></a>","metadata":{},"cell_type":"markdown","outputs":[],"execution_count":0},{"cell_type":"code","execution_count":1,"id":"d8197ed2","metadata":{"execution":{"iopub.execute_input":"2022-03-09T10:53:42.440521Z","iopub.status.busy":"2022-03-09T10:53:42.439693Z","iopub.status.idle":"2022-03-09T10:54:10.906652Z","shell.execute_reply":"2022-03-09T10:54:10.904964Z"},"papermill":{"duration":28.497151,"end_time":"2022-03-09T10:54:10.906852","exception":false,"start_time":"2022-03-09T10:53:42.409701","status":"completed"},"tags":[]},"outputs":[{"name":"stderr","output_type":"stream","text":["Installing package into ‘/usr/local/lib/R/site-library’\n","(as ‘lib’ is unspecified)\n","\n"]}],"source":["install.packages('tidygraph')"]},{"cell_type":"code","execution_count":2,"id":"5eaaafce","metadata":{"execution":{"iopub.execute_input":"2022-03-09T10:54:10.993603Z","iopub.status.busy":"2022-03-09T10:54:10.962768Z","iopub.status.idle":"2022-03-09T10:54:12.243038Z","shell.execute_reply":"2022-03-09T10:54:12.241302Z"},"papermill":{"duration":1.308863,"end_time":"2022-03-09T10:54:12.243188","exception":false,"start_time":"2022-03-09T10:54:10.934325","status":"completed"},"tags":[]},"outputs":[{"name":"stderr","output_type":"stream","text":["── \u001b[1mAttaching packages\u001b[22m ─────────────────────────────────────── tidyverse 1.3.1 ──\n","\n","\u001b[32m✔\u001b[39m \u001b[34mggplot2\u001b[39m 3.3.5     \u001b[32m✔\u001b[39m \u001b[34mpurrr  \u001b[39m 0.3.4\n","\u001b[32m✔\u001b[39m \u001b[34mtibble \u001b[39m 3.1.5     \u001b[32m✔\u001b[39m \u001b[34mdplyr  \u001b[39m 1.0.7\n","\u001b[32m✔\u001b[39m \u001b[34mtidyr  \u001b[39m 1.1.4     \u001b[32m✔\u001b[39m \u001b[34mstringr\u001b[39m 1.4.0\n","\u001b[32m✔\u001b[39m \u001b[34mreadr  \u001b[39m 2.0.2     \u001b[32m✔\u001b[39m \u001b[34mforcats\u001b[39m 0.5.1\n","\n","── \u001b[1mConflicts\u001b[22m ────────────────────────────────────────── tidyverse_conflicts() ──\n","\u001b[31m✖\u001b[39m \u001b[34mdplyr\u001b[39m::\u001b[32mfilter()\u001b[39m masks \u001b[34mstats\u001b[39m::filter()\n","\u001b[31m✖\u001b[39m \u001b[34mdplyr\u001b[39m::\u001b[32mlag()\u001b[39m    masks \u001b[34mstats\u001b[39m::lag()\n","\n","\n","Attaching package: ‘tidygraph’\n","\n","\n","The following object is masked from ‘package:stats’:\n","\n","    filter\n","\n","\n"]}],"source":["library(tidyverse)\n","library(tidygraph)\n","library(ggraph)"]},{"cell_type":"code","execution_count":3,"id":"111c71d7","metadata":{"execution":{"iopub.execute_input":"2022-03-09T10:54:12.309982Z","iopub.status.busy":"2022-03-09T10:54:12.307665Z","iopub.status.idle":"2022-03-09T10:54:12.606813Z","shell.execute_reply":"2022-03-09T10:54:12.607356Z"},"papermill":{"duration":0.334216,"end_time":"2022-03-09T10:54:12.607529","exception":false,"start_time":"2022-03-09T10:54:12.273313","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["<table class=\"dataframe\">\n","<caption>A spec_tbl_df: 51033 × 7</caption>\n","<thead>\n","\t<tr><th scope=col>image</th><th scope=col>specy_id</th><th scope=col>individual_id</th><th scope=col>infraorder</th><th scope=col>family</th><th scope=col>genus</th><th scope=col>specy</th></tr>\n","\t<tr><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th></tr>\n","</thead>\n","<tbody>\n","\t<tr><td>00021adfb725ed.jpg</td><td>melon_headed_whale  </td><td>cadddb1636b9</td><td>Cetacea</td><td>Delphinidae    </td><td>Peponocephala </td><td>P. electra      </td></tr>\n","\t<tr><td>000562241d384d.jpg</td><td>humpback_whale      </td><td>1a71fbb72250</td><td>Cetacea</td><td>Balaenopteridae</td><td>Megaptera     </td><td>M. novaeangliae </td></tr>\n","\t<tr><td>0007c33415ce37.jpg</td><td>false_killer_whale  </td><td>60008f293a2b</td><td>Cetacea</td><td>Delphinidae    </td><td>Pseudorca     </td><td>P. crassidens   </td></tr>\n","\t<tr><td>0007d9bca26a99.jpg</td><td>bottlenose_dolphin  </td><td>4b00fe572063</td><td>Cetacea</td><td>Delphinidae    </td><td>tursiops      </td><td>T. truncatus    </td></tr>\n","\t<tr><td>00087baf5cef7a.jpg</td><td>humpback_whale      </td><td>8e5253662392</td><td>Cetacea</td><td>Balaenopteridae</td><td>Megaptera     </td><td>M. novaeangliae </td></tr>\n","\t<tr><td>000a8f2d5c316a.jpg</td><td>bottlenose_dolphin  </td><td>b9907151f66e</td><td>Cetacea</td><td>Delphinidae    </td><td>tursiops      </td><td>T. truncatus    </td></tr>\n","\t<tr><td>000be9acf46619.jpg</td><td>beluga              </td><td>afb9b3978217</td><td>Cetacea</td><td>Monodontidae   </td><td>Delphinapterus</td><td>D. leucas       </td></tr>\n","\t<tr><td>000bef247c7a42.jpg</td><td>humpback_whale      </td><td>444d8894ccc8</td><td>Cetacea</td><td>Balaenopteridae</td><td>Megaptera     </td><td>M. novaeangliae </td></tr>\n","\t<tr><td>000c3d63069748.jpg</td><td>beluga              </td><td>df94b15285b9</td><td>Cetacea</td><td>Monodontidae   </td><td>Delphinapterus</td><td>D. leucas       </td></tr>\n","\t<tr><td>000c476c11bad5.jpg</td><td>bottlenose_dolphin  </td><td>b11b2404c7e3</td><td>Cetacea</td><td>Delphinidae    </td><td>tursiops      </td><td>T. truncatus    </td></tr>\n","\t<tr><td>001001f099519f.jpg</td><td>minke_whale         </td><td>19fbb960f07d</td><td>Cetacea</td><td>Balaenopteridae</td><td>Balaenoptera  </td><td>B. acutorostrata</td></tr>\n","\t<tr><td>00103cbe9d25ce.jpg</td><td>fin_whale           </td><td>180c0ab04dcd</td><td>Cetacea</td><td>Balaenopteridae</td><td>Balaenoptera  </td><td>B. physalus     </td></tr>\n","\t<tr><td>00144776eb476d.jpg</td><td>bottlenose_dolphin  </td><td>b9907151f66e</td><td>Cetacea</td><td>Delphinidae    </td><td>tursiops      </td><td>T. truncatus    </td></tr>\n","\t<tr><td>00167e8375c967.jpg</td><td>beluga              </td><td>0ad50d0d9b06</td><td>Cetacea</td><td>Monodontidae   </td><td>Delphinapterus</td><td>D. leucas       </td></tr>\n","\t<tr><td>00177f3c614d1e.jpg</td><td>bottlenose_dolphin  </td><td>812be36c2aef</td><td>Cetacea</td><td>Delphinidae    </td><td>tursiops      </td><td>T. truncatus    </td></tr>\n","\t<tr><td>0017b3749cd769.jpg</td><td>bottlenose_dolphin  </td><td>445270d9ad52</td><td>Cetacea</td><td>Delphinidae    </td><td>tursiops      </td><td>T. truncatus    </td></tr>\n","\t<tr><td>0018064338b499.jpg</td><td>blue_whale          </td><td>4790ec346170</td><td>Cetacea</td><td>Balaenopteridae</td><td>Balaenoptera  </td><td>B. musculus     </td></tr>\n","\t<tr><td>001b0900f56e89.jpg</td><td>humpback_whale      </td><td>bc14b5054353</td><td>Cetacea</td><td>Balaenopteridae</td><td>Megaptera     </td><td>M. novaeangliae </td></tr>\n","\t<tr><td>001cfade605960.jpg</td><td>blue_whale          </td><td>ff69d0975a73</td><td>Cetacea</td><td>Balaenopteridae</td><td>Balaenoptera  </td><td>B. musculus     </td></tr>\n","\t<tr><td>001f1a1f22da96.jpg</td><td>minke_whale         </td><td>780fefdb6198</td><td>Cetacea</td><td>Balaenopteridae</td><td>Balaenoptera  </td><td>B. acutorostrata</td></tr>\n","\t<tr><td>0020004d64ae20.jpg</td><td>gray_whale          </td><td>a8c9dfb8ac6f</td><td>Cetacea</td><td>Balaenopteridae</td><td>Eschrichtius  </td><td>E. robustus     </td></tr>\n","\t<tr><td>00206a224e68de.jpg</td><td>blue_whale          </td><td>6c4372e42db1</td><td>Cetacea</td><td>Balaenopteridae</td><td>Balaenoptera  </td><td>B. musculus     </td></tr>\n","\t<tr><td>0022bdb8eb5684.jpg</td><td>humpback_whale      </td><td>35f898e6595e</td><td>Cetacea</td><td>Balaenopteridae</td><td>Megaptera     </td><td>M. novaeangliae </td></tr>\n","\t<tr><td>00234b893ea9e8.jpg</td><td>false_killer_whale  </td><td>bfb74132d1db</td><td>Cetacea</td><td>Delphinidae    </td><td>Pseudorca     </td><td>P. crassidens   </td></tr>\n","\t<tr><td>0024057bbc89a4.jpg</td><td>minke_whale         </td><td>114207cab555</td><td>Cetacea</td><td>Balaenopteridae</td><td>Balaenoptera  </td><td>B. acutorostrata</td></tr>\n","\t<tr><td>00243d4b15bafc.jpg</td><td>beluga              </td><td>3cbfd98eea8f</td><td>Cetacea</td><td>Monodontidae   </td><td>Delphinapterus</td><td>D. leucas       </td></tr>\n","\t<tr><td>002618d6f63ebc.jpg</td><td>southern_right_whale</td><td>f5eab86405b4</td><td>Cetacea</td><td>Balaenidae     </td><td>Eubalaena     </td><td>E. australis    </td></tr>\n","\t<tr><td>0028f6fa123686.jpg</td><td>bottlenose_dolphin  </td><td>956562ff2888</td><td>Cetacea</td><td>Delphinidae    </td><td>tursiops      </td><td>T. truncatus    </td></tr>\n","\t<tr><td>0029d877c29ab4.jpg</td><td>melon_headed_whale  </td><td>c27f0a7f4e5a</td><td>Cetacea</td><td>Delphinidae    </td><td>Peponocephala </td><td>P. electra      </td></tr>\n","\t<tr><td>002ac5f9ad7c10.jpg</td><td>false_killer_whale  </td><td>f7bb4f9a9d1a</td><td>Cetacea</td><td>Delphinidae    </td><td>Pseudorca     </td><td>P. crassidens   </td></tr>\n","\t<tr><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td><td>⋮</td></tr>\n","\t<tr><td>ffd233d91c41c7.jpg</td><td>dusky_dolphin       </td><td>4de77853688d</td><td>Cetacea</td><td>Delphinidae    </td><td>Lagenorhynchus</td><td>L. obscurus    </td></tr>\n","\t<tr><td>ffd90e2198cec7.jpg</td><td>blue_whale          </td><td>9a7cde6b8289</td><td>Cetacea</td><td>Balaenopteridae</td><td>Balaenoptera  </td><td>B. musculus    </td></tr>\n","\t<tr><td>ffda27396b72d3.jpg</td><td>melon_headed_whale  </td><td>3509cb6a8504</td><td>Cetacea</td><td>Delphinidae    </td><td>Peponocephala </td><td>P. electra     </td></tr>\n","\t<tr><td>ffdb5381c9e5cc.jpg</td><td>beluga              </td><td>4134fe49e6ca</td><td>Cetacea</td><td>Monodontidae   </td><td>Delphinapterus</td><td>D. leucas      </td></tr>\n","\t<tr><td>ffde8e59c047d3.jpg</td><td>bottlenose_dolphin  </td><td>3d8ae153f3d7</td><td>Cetacea</td><td>Delphinidae    </td><td>tursiops      </td><td>T. truncatus   </td></tr>\n","\t<tr><td>ffdf30eb77e702.jpg</td><td>humpback_whale      </td><td>7a7f988bc077</td><td>Cetacea</td><td>Balaenopteridae</td><td>Megaptera     </td><td>M. novaeangliae</td></tr>\n","\t<tr><td>ffe12f8cae2441.jpg</td><td>humpback_whale      </td><td>f263fb6c725a</td><td>Cetacea</td><td>Balaenopteridae</td><td>Megaptera     </td><td>M. novaeangliae</td></tr>\n","\t<tr><td>ffe1a56bdd912c.jpg</td><td>bottlenose_dolphin  </td><td>a59972315f7d</td><td>Cetacea</td><td>Delphinidae    </td><td>tursiops      </td><td>T. truncatus   </td></tr>\n","\t<tr><td>ffe24f955ff264.jpg</td><td>bottlenose_dolphin  </td><td>956562ff2888</td><td>Cetacea</td><td>Delphinidae    </td><td>tursiops      </td><td>T. truncatus   </td></tr>\n","\t<tr><td>ffe2cfd8177062.jpg</td><td>pilot_whale         </td><td>e880e47c06a4</td><td>Cetacea</td><td>Delphinidae    </td><td>Globicephala  </td><td>G. melas       </td></tr>\n","\t<tr><td>ffe341ae54dcf4.jpg</td><td>blue_whale          </td><td>df85d8ec8bfc</td><td>Cetacea</td><td>Balaenopteridae</td><td>Balaenoptera  </td><td>B. musculus    </td></tr>\n","\t<tr><td>ffe6648966bb29.jpg</td><td>beluga              </td><td>97589576e678</td><td>Cetacea</td><td>Monodontidae   </td><td>Delphinapterus</td><td>D. leucas      </td></tr>\n","\t<tr><td>ffe66ecf7cb138.jpg</td><td>humpback_whale      </td><td>b58b560b67c3</td><td>Cetacea</td><td>Balaenopteridae</td><td>Megaptera     </td><td>M. novaeangliae</td></tr>\n","\t<tr><td>ffe6940bd23980.jpg</td><td>southern_right_whale</td><td>a8a663f9f7f0</td><td>Cetacea</td><td>Balaenidae     </td><td>Eubalaena     </td><td>E. australis   </td></tr>\n","\t<tr><td>ffe697db80edfa.jpg</td><td>false_killer_whale  </td><td>b602f1224dee</td><td>Cetacea</td><td>Delphinidae    </td><td>Pseudorca     </td><td>P. crassidens  </td></tr>\n","\t<tr><td>ffeae1cc606ed6.jpg</td><td>dusky_dolphin       </td><td>bc6fcab946c4</td><td>Cetacea</td><td>Delphinidae    </td><td>Lagenorhynchus</td><td>L. obscurus    </td></tr>\n","\t<tr><td>ffecd4a6afc94a.jpg</td><td>bottlenose_dolphin  </td><td>424d49bef76e</td><td>Cetacea</td><td>Delphinidae    </td><td>tursiops      </td><td>T. truncatus   </td></tr>\n","\t<tr><td>ffedfd04fd357b.jpg</td><td>beluga              </td><td>1e1e577830be</td><td>Cetacea</td><td>Monodontidae   </td><td>Delphinapterus</td><td>D. leucas      </td></tr>\n","\t<tr><td>ffeed309a3081e.jpg</td><td>spinner_dolphin     </td><td>afe8b7c1b1c6</td><td>Cetacea</td><td>Delphinidae    </td><td>Stenella      </td><td>S. longirostris</td></tr>\n","\t<tr><td>fff219829b3c68.jpg</td><td>pilot_whale         </td><td>ada9e2afe2bd</td><td>Cetacea</td><td>Delphinidae    </td><td>Globicephala  </td><td>G. melas       </td></tr>\n","\t<tr><td>fff2dbac692435.jpg</td><td>beluga              </td><td>3b9152077a31</td><td>Cetacea</td><td>Monodontidae   </td><td>Delphinapterus</td><td>D. leucas      </td></tr>\n","\t<tr><td>fff4686bea76f0.jpg</td><td>false_killer_whale  </td><td>be2aa86d0e5b</td><td>Cetacea</td><td>Delphinidae    </td><td>Pseudorca     </td><td>P. crassidens  </td></tr>\n","\t<tr><td>fff47736026701.jpg</td><td>humpback_whale      </td><td>ff95891f0378</td><td>Cetacea</td><td>Balaenopteridae</td><td>Megaptera     </td><td>M. novaeangliae</td></tr>\n","\t<tr><td>fff54859cb0beb.jpg</td><td>false_killer_whale  </td><td>b90d49ab0905</td><td>Cetacea</td><td>Delphinidae    </td><td>Pseudorca     </td><td>P. crassidens  </td></tr>\n","\t<tr><td>fff603f5af8614.jpg</td><td>fin_whale           </td><td>40fe65946167</td><td>Cetacea</td><td>Balaenopteridae</td><td>Balaenoptera  </td><td>B. physalus    </td></tr>\n","\t<tr><td>fff639a7a78b3f.jpg</td><td>beluga              </td><td>5ac053677ed1</td><td>Cetacea</td><td>Monodontidae   </td><td>Delphinapterus</td><td>D. leucas      </td></tr>\n","\t<tr><td>fff8b32daff17e.jpg</td><td>cuviers_beaked_whale</td><td>1184686361b3</td><td>Cetacea</td><td>Ziphiidae      </td><td>Ziphius       </td><td>Z. cavirostris </td></tr>\n","\t<tr><td>fff94675cc1aef.jpg</td><td>blue_whale          </td><td>5401612696b9</td><td>Cetacea</td><td>Balaenopteridae</td><td>Balaenoptera  </td><td>B. musculus    </td></tr>\n","\t<tr><td>fffbc5dd642d8c.jpg</td><td>beluga              </td><td>4000b3d7c24e</td><td>Cetacea</td><td>Monodontidae   </td><td>Delphinapterus</td><td>D. leucas      </td></tr>\n","\t<tr><td>fffdcd42312777.jpg</td><td>bottlenose_dolphin  </td><td>4ddb2eeb5efb</td><td>Cetacea</td><td>Delphinidae    </td><td>tursiops      </td><td>T. truncatus   </td></tr>\n","</tbody>\n","</table>\n"],"text/latex":["A spec\\_tbl\\_df: 51033 × 7\n","\\begin{tabular}{lllllll}\n"," image & specy\\_id & individual\\_id & infraorder & family & genus & specy\\\\\n"," <chr> & <chr> & <chr> & <chr> & <chr> & <chr> & <chr>\\\\\n","\\hline\n","\t 00021adfb725ed.jpg & melon\\_headed\\_whale   & cadddb1636b9 & Cetacea & Delphinidae     & Peponocephala  & P. electra      \\\\\n","\t 000562241d384d.jpg & humpback\\_whale       & 1a71fbb72250 & Cetacea & Balaenopteridae & Megaptera      & M. novaeangliae \\\\\n","\t 0007c33415ce37.jpg & false\\_killer\\_whale   & 60008f293a2b & Cetacea & Delphinidae     & Pseudorca      & P. crassidens   \\\\\n","\t 0007d9bca26a99.jpg & bottlenose\\_dolphin   & 4b00fe572063 & Cetacea & Delphinidae     & tursiops       & T. truncatus    \\\\\n","\t 00087baf5cef7a.jpg & humpback\\_whale       & 8e5253662392 & Cetacea & Balaenopteridae & Megaptera      & M. novaeangliae \\\\\n","\t 000a8f2d5c316a.jpg & bottlenose\\_dolphin   & b9907151f66e & Cetacea & Delphinidae     & tursiops       & T. truncatus    \\\\\n","\t 000be9acf46619.jpg & beluga               & afb9b3978217 & Cetacea & Monodontidae    & Delphinapterus & D. leucas       \\\\\n","\t 000bef247c7a42.jpg & humpback\\_whale       & 444d8894ccc8 & Cetacea & Balaenopteridae & Megaptera      & M. novaeangliae \\\\\n","\t 000c3d63069748.jpg & beluga               & df94b15285b9 & Cetacea & Monodontidae    & Delphinapterus & D. leucas       \\\\\n","\t 000c476c11bad5.jpg & bottlenose\\_dolphin   & b11b2404c7e3 & Cetacea & Delphinidae     & tursiops       & T. truncatus    \\\\\n","\t 001001f099519f.jpg & minke\\_whale          & 19fbb960f07d & Cetacea & Balaenopteridae & Balaenoptera   & B. acutorostrata\\\\\n","\t 00103cbe9d25ce.jpg & fin\\_whale            & 180c0ab04dcd & Cetacea & Balaenopteridae & Balaenoptera   & B. physalus     \\\\\n","\t 00144776eb476d.jpg & bottlenose\\_dolphin   & b9907151f66e & Cetacea & Delphinidae     & tursiops       & T. truncatus    \\\\\n","\t 00167e8375c967.jpg & beluga               & 0ad50d0d9b06 & Cetacea & Monodontidae    & Delphinapterus & D. leucas       \\\\\n","\t 00177f3c614d1e.jpg & bottlenose\\_dolphin   & 812be36c2aef & Cetacea & Delphinidae     & tursiops       & T. truncatus    \\\\\n","\t 0017b3749cd769.jpg & bottlenose\\_dolphin   & 445270d9ad52 & Cetacea & Delphinidae     & tursiops       & T. truncatus    \\\\\n","\t 0018064338b499.jpg & blue\\_whale           & 4790ec346170 & Cetacea & Balaenopteridae & Balaenoptera   & B. musculus     \\\\\n","\t 001b0900f56e89.jpg & humpback\\_whale       & bc14b5054353 & Cetacea & Balaenopteridae & Megaptera      & M. novaeangliae \\\\\n","\t 001cfade605960.jpg & blue\\_whale           & ff69d0975a73 & Cetacea & Balaenopteridae & Balaenoptera   & B. musculus     \\\\\n","\t 001f1a1f22da96.jpg & minke\\_whale          & 780fefdb6198 & Cetacea & Balaenopteridae & Balaenoptera   & B. acutorostrata\\\\\n","\t 0020004d64ae20.jpg & gray\\_whale           & a8c9dfb8ac6f & Cetacea & Balaenopteridae & Eschrichtius   & E. robustus     \\\\\n","\t 00206a224e68de.jpg & blue\\_whale           & 6c4372e42db1 & Cetacea & Balaenopteridae & Balaenoptera   & B. musculus     \\\\\n","\t 0022bdb8eb5684.jpg & humpback\\_whale       & 35f898e6595e & Cetacea & Balaenopteridae & Megaptera      & M. novaeangliae \\\\\n","\t 00234b893ea9e8.jpg & false\\_killer\\_whale   & bfb74132d1db & Cetacea & Delphinidae     & Pseudorca      & P. crassidens   \\\\\n","\t 0024057bbc89a4.jpg & minke\\_whale          & 114207cab555 & Cetacea & Balaenopteridae & Balaenoptera   & B. acutorostrata\\\\\n","\t 00243d4b15bafc.jpg & beluga               & 3cbfd98eea8f & Cetacea & Monodontidae    & Delphinapterus & D. leucas       \\\\\n","\t 002618d6f63ebc.jpg & southern\\_right\\_whale & f5eab86405b4 & Cetacea & Balaenidae      & Eubalaena      & E. australis    \\\\\n","\t 0028f6fa123686.jpg & bottlenose\\_dolphin   & 956562ff2888 & Cetacea & Delphinidae     & tursiops       & T. truncatus    \\\\\n","\t 0029d877c29ab4.jpg & melon\\_headed\\_whale   & c27f0a7f4e5a & Cetacea & Delphinidae     & Peponocephala  & P. electra      \\\\\n","\t 002ac5f9ad7c10.jpg & false\\_killer\\_whale   & f7bb4f9a9d1a & Cetacea & Delphinidae     & Pseudorca      & P. crassidens   \\\\\n","\t ⋮ & ⋮ & ⋮ & ⋮ & ⋮ & ⋮ & ⋮\\\\\n","\t ffd233d91c41c7.jpg & dusky\\_dolphin        & 4de77853688d & Cetacea & Delphinidae     & Lagenorhynchus & L. obscurus    \\\\\n","\t ffd90e2198cec7.jpg & blue\\_whale           & 9a7cde6b8289 & Cetacea & Balaenopteridae & Balaenoptera   & B. musculus    \\\\\n","\t ffda27396b72d3.jpg & melon\\_headed\\_whale   & 3509cb6a8504 & Cetacea & Delphinidae     & Peponocephala  & P. electra     \\\\\n","\t ffdb5381c9e5cc.jpg & beluga               & 4134fe49e6ca & Cetacea & Monodontidae    & Delphinapterus & D. leucas      \\\\\n","\t ffde8e59c047d3.jpg & bottlenose\\_dolphin   & 3d8ae153f3d7 & Cetacea & Delphinidae     & tursiops       & T. truncatus   \\\\\n","\t ffdf30eb77e702.jpg & humpback\\_whale       & 7a7f988bc077 & Cetacea & Balaenopteridae & Megaptera      & M. novaeangliae\\\\\n","\t ffe12f8cae2441.jpg & humpback\\_whale       & f263fb6c725a & Cetacea & Balaenopteridae & Megaptera      & M. novaeangliae\\\\\n","\t ffe1a56bdd912c.jpg & bottlenose\\_dolphin   & a59972315f7d & Cetacea & Delphinidae     & tursiops       & T. truncatus   \\\\\n","\t ffe24f955ff264.jpg & bottlenose\\_dolphin   & 956562ff2888 & Cetacea & Delphinidae     & tursiops       & T. truncatus   \\\\\n","\t ffe2cfd8177062.jpg & pilot\\_whale          & e880e47c06a4 & Cetacea & Delphinidae     & Globicephala   & G. melas       \\\\\n","\t ffe341ae54dcf4.jpg & blue\\_whale           & df85d8ec8bfc & Cetacea & Balaenopteridae & Balaenoptera   & B. musculus    \\\\\n","\t ffe6648966bb29.jpg & beluga               & 97589576e678 & Cetacea & Monodontidae    & Delphinapterus & D. leucas      \\\\\n","\t ffe66ecf7cb138.jpg & humpback\\_whale       & b58b560b67c3 & Cetacea & Balaenopteridae & Megaptera      & M. novaeangliae\\\\\n","\t ffe6940bd23980.jpg & southern\\_right\\_whale & a8a663f9f7f0 & Cetacea & Balaenidae      & Eubalaena      & E. australis   \\\\\n","\t ffe697db80edfa.jpg & false\\_killer\\_whale   & b602f1224dee & Cetacea & Delphinidae     & Pseudorca      & P. crassidens  \\\\\n","\t ffeae1cc606ed6.jpg & dusky\\_dolphin        & bc6fcab946c4 & Cetacea & Delphinidae     & Lagenorhynchus & L. obscurus    \\\\\n","\t ffecd4a6afc94a.jpg & bottlenose\\_dolphin   & 424d49bef76e & Cetacea & Delphinidae     & tursiops       & T. truncatus   \\\\\n","\t ffedfd04fd357b.jpg & beluga               & 1e1e577830be & Cetacea & Monodontidae    & Delphinapterus & D. leucas      \\\\\n","\t ffeed309a3081e.jpg & spinner\\_dolphin      & afe8b7c1b1c6 & Cetacea & Delphinidae     & Stenella       & S. longirostris\\\\\n","\t fff219829b3c68.jpg & pilot\\_whale          & ada9e2afe2bd & Cetacea & Delphinidae     & Globicephala   & G. melas       \\\\\n","\t fff2dbac692435.jpg & beluga               & 3b9152077a31 & Cetacea & Monodontidae    & Delphinapterus & D. leucas      \\\\\n","\t fff4686bea76f0.jpg & false\\_killer\\_whale   & be2aa86d0e5b & Cetacea & Delphinidae     & Pseudorca      & P. crassidens  \\\\\n","\t fff47736026701.jpg & humpback\\_whale       & ff95891f0378 & Cetacea & Balaenopteridae & Megaptera      & M. novaeangliae\\\\\n","\t fff54859cb0beb.jpg & false\\_killer\\_whale   & b90d49ab0905 & Cetacea & Delphinidae     & Pseudorca      & P. crassidens  \\\\\n","\t fff603f5af8614.jpg & fin\\_whale            & 40fe65946167 & Cetacea & Balaenopteridae & Balaenoptera   & B. physalus    \\\\\n","\t fff639a7a78b3f.jpg & beluga               & 5ac053677ed1 & Cetacea & Monodontidae    & Delphinapterus & D. leucas      \\\\\n","\t fff8b32daff17e.jpg & cuviers\\_beaked\\_whale & 1184686361b3 & Cetacea & Ziphiidae       & Ziphius        & Z. cavirostris \\\\\n","\t fff94675cc1aef.jpg & blue\\_whale           & 5401612696b9 & Cetacea & Balaenopteridae & Balaenoptera   & B. musculus    \\\\\n","\t fffbc5dd642d8c.jpg & beluga               & 4000b3d7c24e & Cetacea & Monodontidae    & Delphinapterus & D. leucas      \\\\\n","\t fffdcd42312777.jpg & bottlenose\\_dolphin   & 4ddb2eeb5efb & Cetacea & Delphinidae     & tursiops       & T. truncatus   \\\\\n","\\end{tabular}\n"],"text/markdown":["\n","A spec_tbl_df: 51033 × 7\n","\n","| image &lt;chr&gt; | specy_id &lt;chr&gt; | individual_id &lt;chr&gt; | infraorder &lt;chr&gt; | family &lt;chr&gt; | genus &lt;chr&gt; | specy &lt;chr&gt; |\n","|---|---|---|---|---|---|---|\n","| 00021adfb725ed.jpg | melon_headed_whale   | cadddb1636b9 | Cetacea | Delphinidae     | Peponocephala  | P. electra       |\n","| 000562241d384d.jpg | humpback_whale       | 1a71fbb72250 | Cetacea | Balaenopteridae | Megaptera      | M. novaeangliae  |\n","| 0007c33415ce37.jpg | false_killer_whale   | 60008f293a2b | Cetacea | Delphinidae     | Pseudorca      | P. crassidens    |\n","| 0007d9bca26a99.jpg | bottlenose_dolphin   | 4b00fe572063 | Cetacea | Delphinidae     | tursiops       | T. truncatus     |\n","| 00087baf5cef7a.jpg | humpback_whale       | 8e5253662392 | Cetacea | Balaenopteridae | Megaptera      | M. novaeangliae  |\n","| 000a8f2d5c316a.jpg | bottlenose_dolphin   | b9907151f66e | Cetacea | Delphinidae     | tursiops       | T. truncatus     |\n","| 000be9acf46619.jpg | beluga               | afb9b3978217 | Cetacea | Monodontidae    | Delphinapterus | D. leucas        |\n","| 000bef247c7a42.jpg | humpback_whale       | 444d8894ccc8 | Cetacea | Balaenopteridae | Megaptera      | M. novaeangliae  |\n","| 000c3d63069748.jpg | beluga               | df94b15285b9 | Cetacea | Monodontidae    | Delphinapterus | D. leucas        |\n","| 000c476c11bad5.jpg | bottlenose_dolphin   | b11b2404c7e3 | Cetacea | Delphinidae     | tursiops       | T. truncatus     |\n","| 001001f099519f.jpg | minke_whale          | 19fbb960f07d | Cetacea | Balaenopteridae | Balaenoptera   | B. acutorostrata |\n","| 00103cbe9d25ce.jpg | fin_whale            | 180c0ab04dcd | Cetacea | Balaenopteridae | Balaenoptera   | B. physalus      |\n","| 00144776eb476d.jpg | bottlenose_dolphin   | b9907151f66e | Cetacea | Delphinidae     | tursiops       | T. truncatus     |\n","| 00167e8375c967.jpg | beluga               | 0ad50d0d9b06 | Cetacea | Monodontidae    | Delphinapterus | D. leucas        |\n","| 00177f3c614d1e.jpg | bottlenose_dolphin   | 812be36c2aef | Cetacea | Delphinidae     | tursiops       | T. truncatus     |\n","| 0017b3749cd769.jpg | bottlenose_dolphin   | 445270d9ad52 | Cetacea | Delphinidae     | tursiops       | T. truncatus     |\n","| 0018064338b499.jpg | blue_whale           | 4790ec346170 | Cetacea | Balaenopteridae | Balaenoptera   | B. musculus      |\n","| 001b0900f56e89.jpg | humpback_whale       | bc14b5054353 | Cetacea | Balaenopteridae | Megaptera      | M. novaeangliae  |\n","| 001cfade605960.jpg | blue_whale           | ff69d0975a73 | Cetacea | Balaenopteridae | Balaenoptera   | B. musculus      |\n","| 001f1a1f22da96.jpg | minke_whale          | 780fefdb6198 | Cetacea | Balaenopteridae | Balaenoptera   | B. acutorostrata |\n","| 0020004d64ae20.jpg | gray_whale           | a8c9dfb8ac6f | Cetacea | Balaenopteridae | Eschrichtius   | E. robustus      |\n","| 00206a224e68de.jpg | blue_whale           | 6c4372e42db1 | Cetacea | Balaenopteridae | Balaenoptera   | B. musculus      |\n","| 0022bdb8eb5684.jpg | humpback_whale       | 35f898e6595e | Cetacea | Balaenopteridae | Megaptera      | M. novaeangliae  |\n","| 00234b893ea9e8.jpg | false_killer_whale   | bfb74132d1db | Cetacea | Delphinidae     | Pseudorca      | P. crassidens    |\n","| 0024057bbc89a4.jpg | minke_whale          | 114207cab555 | Cetacea | Balaenopteridae | Balaenoptera   | B. acutorostrata |\n","| 00243d4b15bafc.jpg | beluga               | 3cbfd98eea8f | Cetacea | Monodontidae    | Delphinapterus | D. leucas        |\n","| 002618d6f63ebc.jpg | southern_right_whale | f5eab86405b4 | Cetacea | Balaenidae      | Eubalaena      | E. australis     |\n","| 0028f6fa123686.jpg | bottlenose_dolphin   | 956562ff2888 | Cetacea | Delphinidae     | tursiops       | T. truncatus     |\n","| 0029d877c29ab4.jpg | melon_headed_whale   | c27f0a7f4e5a | Cetacea | Delphinidae     | Peponocephala  | P. electra       |\n","| 002ac5f9ad7c10.jpg | false_killer_whale   | f7bb4f9a9d1a | Cetacea | Delphinidae     | Pseudorca      | P. crassidens    |\n","| ⋮ | ⋮ | ⋮ | ⋮ | ⋮ | ⋮ | ⋮ |\n","| ffd233d91c41c7.jpg | dusky_dolphin        | 4de77853688d | Cetacea | Delphinidae     | Lagenorhynchus | L. obscurus     |\n","| ffd90e2198cec7.jpg | blue_whale           | 9a7cde6b8289 | Cetacea | Balaenopteridae | Balaenoptera   | B. musculus     |\n","| ffda27396b72d3.jpg | melon_headed_whale   | 3509cb6a8504 | Cetacea | Delphinidae     | Peponocephala  | P. electra      |\n","| ffdb5381c9e5cc.jpg | beluga               | 4134fe49e6ca | Cetacea | Monodontidae    | Delphinapterus | D. leucas       |\n","| ffde8e59c047d3.jpg | bottlenose_dolphin   | 3d8ae153f3d7 | Cetacea | Delphinidae     | tursiops       | T. truncatus    |\n","| ffdf30eb77e702.jpg | humpback_whale       | 7a7f988bc077 | Cetacea | Balaenopteridae | Megaptera      | M. novaeangliae |\n","| ffe12f8cae2441.jpg | humpback_whale       | f263fb6c725a | Cetacea | Balaenopteridae | Megaptera      | M. novaeangliae |\n","| ffe1a56bdd912c.jpg | bottlenose_dolphin   | a59972315f7d | Cetacea | Delphinidae     | tursiops       | T. truncatus    |\n","| ffe24f955ff264.jpg | bottlenose_dolphin   | 956562ff2888 | Cetacea | Delphinidae     | tursiops       | T. truncatus    |\n","| ffe2cfd8177062.jpg | pilot_whale          | e880e47c06a4 | Cetacea | Delphinidae     | Globicephala   | G. melas        |\n","| ffe341ae54dcf4.jpg | blue_whale           | df85d8ec8bfc | Cetacea | Balaenopteridae | Balaenoptera   | B. musculus     |\n","| ffe6648966bb29.jpg | beluga               | 97589576e678 | Cetacea | Monodontidae    | Delphinapterus | D. leucas       |\n","| ffe66ecf7cb138.jpg | humpback_whale       | b58b560b67c3 | Cetacea | Balaenopteridae | Megaptera      | M. novaeangliae |\n","| ffe6940bd23980.jpg | southern_right_whale | a8a663f9f7f0 | Cetacea | Balaenidae      | Eubalaena      | E. australis    |\n","| ffe697db80edfa.jpg | false_killer_whale   | b602f1224dee | Cetacea | Delphinidae     | Pseudorca      | P. crassidens   |\n","| ffeae1cc606ed6.jpg | dusky_dolphin        | bc6fcab946c4 | Cetacea | Delphinidae     | Lagenorhynchus | L. obscurus     |\n","| ffecd4a6afc94a.jpg | bottlenose_dolphin   | 424d49bef76e | Cetacea | Delphinidae     | tursiops       | T. truncatus    |\n","| ffedfd04fd357b.jpg | beluga               | 1e1e577830be | Cetacea | Monodontidae    | Delphinapterus | D. leucas       |\n","| ffeed309a3081e.jpg | spinner_dolphin      | afe8b7c1b1c6 | Cetacea | Delphinidae     | Stenella       | S. longirostris |\n","| fff219829b3c68.jpg | pilot_whale          | ada9e2afe2bd | Cetacea | Delphinidae     | Globicephala   | G. melas        |\n","| fff2dbac692435.jpg | beluga               | 3b9152077a31 | Cetacea | Monodontidae    | Delphinapterus | D. leucas       |\n","| fff4686bea76f0.jpg | false_killer_whale   | be2aa86d0e5b | Cetacea | Delphinidae     | Pseudorca      | P. crassidens   |\n","| fff47736026701.jpg | humpback_whale       | ff95891f0378 | Cetacea | Balaenopteridae | Megaptera      | M. novaeangliae |\n","| fff54859cb0beb.jpg | false_killer_whale   | b90d49ab0905 | Cetacea | Delphinidae     | Pseudorca      | P. crassidens   |\n","| fff603f5af8614.jpg | fin_whale            | 40fe65946167 | Cetacea | Balaenopteridae | Balaenoptera   | B. physalus     |\n","| fff639a7a78b3f.jpg | beluga               | 5ac053677ed1 | Cetacea | Monodontidae    | Delphinapterus | D. leucas       |\n","| fff8b32daff17e.jpg | cuviers_beaked_whale | 1184686361b3 | Cetacea | Ziphiidae       | Ziphius        | Z. cavirostris  |\n","| fff94675cc1aef.jpg | blue_whale           | 5401612696b9 | Cetacea | Balaenopteridae | Balaenoptera   | B. musculus     |\n","| fffbc5dd642d8c.jpg | beluga               | 4000b3d7c24e | Cetacea | Monodontidae    | Delphinapterus | D. leucas       |\n","| fffdcd42312777.jpg | bottlenose_dolphin   | 4ddb2eeb5efb | Cetacea | Delphinidae     | tursiops       | T. truncatus    |\n","\n"],"text/plain":["      image              specy_id             individual_id infraorder\n","1     00021adfb725ed.jpg melon_headed_whale   cadddb1636b9  Cetacea   \n","2     000562241d384d.jpg humpback_whale       1a71fbb72250  Cetacea   \n","3     0007c33415ce37.jpg false_killer_whale   60008f293a2b  Cetacea   \n","4     0007d9bca26a99.jpg bottlenose_dolphin   4b00fe572063  Cetacea   \n","5     00087baf5cef7a.jpg humpback_whale       8e5253662392  Cetacea   \n","6     000a8f2d5c316a.jpg bottlenose_dolphin   b9907151f66e  Cetacea   \n","7     000be9acf46619.jpg beluga               afb9b3978217  Cetacea   \n","8     000bef247c7a42.jpg humpback_whale       444d8894ccc8  Cetacea   \n","9     000c3d63069748.jpg beluga               df94b15285b9  Cetacea   \n","10    000c476c11bad5.jpg bottlenose_dolphin   b11b2404c7e3  Cetacea   \n","11    001001f099519f.jpg minke_whale          19fbb960f07d  Cetacea   \n","12    00103cbe9d25ce.jpg fin_whale            180c0ab04dcd  Cetacea   \n","13    00144776eb476d.jpg bottlenose_dolphin   b9907151f66e  Cetacea   \n","14    00167e8375c967.jpg beluga               0ad50d0d9b06  Cetacea   \n","15    00177f3c614d1e.jpg bottlenose_dolphin   812be36c2aef  Cetacea   \n","16    0017b3749cd769.jpg bottlenose_dolphin   445270d9ad52  Cetacea   \n","17    0018064338b499.jpg blue_whale           4790ec346170  Cetacea   \n","18    001b0900f56e89.jpg humpback_whale       bc14b5054353  Cetacea   \n","19    001cfade605960.jpg blue_whale           ff69d0975a73  Cetacea   \n","20    001f1a1f22da96.jpg minke_whale          780fefdb6198  Cetacea   \n","21    0020004d64ae20.jpg gray_whale           a8c9dfb8ac6f  Cetacea   \n","22    00206a224e68de.jpg blue_whale           6c4372e42db1  Cetacea   \n","23    0022bdb8eb5684.jpg humpback_whale       35f898e6595e  Cetacea   \n","24    00234b893ea9e8.jpg false_killer_whale   bfb74132d1db  Cetacea   \n","25    0024057bbc89a4.jpg minke_whale          114207cab555  Cetacea   \n","26    00243d4b15bafc.jpg beluga               3cbfd98eea8f  Cetacea   \n","27    002618d6f63ebc.jpg southern_right_whale f5eab86405b4  Cetacea   \n","28    0028f6fa123686.jpg bottlenose_dolphin   956562ff2888  Cetacea   \n","29    0029d877c29ab4.jpg melon_headed_whale   c27f0a7f4e5a  Cetacea   \n","30    002ac5f9ad7c10.jpg false_killer_whale   f7bb4f9a9d1a  Cetacea   \n","⋮     ⋮                  ⋮                    ⋮             ⋮         \n","51004 ffd233d91c41c7.jpg dusky_dolphin        4de77853688d  Cetacea   \n","51005 ffd90e2198cec7.jpg blue_whale           9a7cde6b8289  Cetacea   \n","51006 ffda27396b72d3.jpg melon_headed_whale   3509cb6a8504  Cetacea   \n","51007 ffdb5381c9e5cc.jpg beluga               4134fe49e6ca  Cetacea   \n","51008 ffde8e59c047d3.jpg bottlenose_dolphin   3d8ae153f3d7  Cetacea   \n","51009 ffdf30eb77e702.jpg humpback_whale       7a7f988bc077  Cetacea   \n","51010 ffe12f8cae2441.jpg humpback_whale       f263fb6c725a  Cetacea   \n","51011 ffe1a56bdd912c.jpg bottlenose_dolphin   a59972315f7d  Cetacea   \n","51012 ffe24f955ff264.jpg bottlenose_dolphin   956562ff2888  Cetacea   \n","51013 ffe2cfd8177062.jpg pilot_whale          e880e47c06a4  Cetacea   \n","51014 ffe341ae54dcf4.jpg blue_whale           df85d8ec8bfc  Cetacea   \n","51015 ffe6648966bb29.jpg beluga               97589576e678  Cetacea   \n","51016 ffe66ecf7cb138.jpg humpback_whale       b58b560b67c3  Cetacea   \n","51017 ffe6940bd23980.jpg southern_right_whale a8a663f9f7f0  Cetacea   \n","51018 ffe697db80edfa.jpg false_killer_whale   b602f1224dee  Cetacea   \n","51019 ffeae1cc606ed6.jpg dusky_dolphin        bc6fcab946c4  Cetacea   \n","51020 ffecd4a6afc94a.jpg bottlenose_dolphin   424d49bef76e  Cetacea   \n","51021 ffedfd04fd357b.jpg beluga               1e1e577830be  Cetacea   \n","51022 ffeed309a3081e.jpg spinner_dolphin      afe8b7c1b1c6  Cetacea   \n","51023 fff219829b3c68.jpg pilot_whale          ada9e2afe2bd  Cetacea   \n","51024 fff2dbac692435.jpg beluga               3b9152077a31  Cetacea   \n","51025 fff4686bea76f0.jpg false_killer_whale   be2aa86d0e5b  Cetacea   \n","51026 fff47736026701.jpg humpback_whale       ff95891f0378  Cetacea   \n","51027 fff54859cb0beb.jpg false_killer_whale   b90d49ab0905  Cetacea   \n","51028 fff603f5af8614.jpg fin_whale            40fe65946167  Cetacea   \n","51029 fff639a7a78b3f.jpg beluga               5ac053677ed1  Cetacea   \n","51030 fff8b32daff17e.jpg cuviers_beaked_whale 1184686361b3  Cetacea   \n","51031 fff94675cc1aef.jpg blue_whale           5401612696b9  Cetacea   \n","51032 fffbc5dd642d8c.jpg beluga               4000b3d7c24e  Cetacea   \n","51033 fffdcd42312777.jpg bottlenose_dolphin   4ddb2eeb5efb  Cetacea   \n","      family          genus          specy           \n","1     Delphinidae     Peponocephala  P. electra      \n","2     Balaenopteridae Megaptera      M. novaeangliae \n","3     Delphinidae     Pseudorca      P. crassidens   \n","4     Delphinidae     tursiops       T. truncatus    \n","5     Balaenopteridae Megaptera      M. novaeangliae \n","6     Delphinidae     tursiops       T. truncatus    \n","7     Monodontidae    Delphinapterus D. leucas       \n","8     Balaenopteridae Megaptera      M. novaeangliae \n","9     Monodontidae    Delphinapterus D. leucas       \n","10    Delphinidae     tursiops       T. truncatus    \n","11    Balaenopteridae Balaenoptera   B. acutorostrata\n","12    Balaenopteridae Balaenoptera   B. physalus     \n","13    Delphinidae     tursiops       T. truncatus    \n","14    Monodontidae    Delphinapterus D. leucas       \n","15    Delphinidae     tursiops       T. truncatus    \n","16    Delphinidae     tursiops       T. truncatus    \n","17    Balaenopteridae Balaenoptera   B. musculus     \n","18    Balaenopteridae Megaptera      M. novaeangliae \n","19    Balaenopteridae Balaenoptera   B. musculus     \n","20    Balaenopteridae Balaenoptera   B. acutorostrata\n","21    Balaenopteridae Eschrichtius   E. robustus     \n","22    Balaenopteridae Balaenoptera   B. musculus     \n","23    Balaenopteridae Megaptera      M. novaeangliae \n","24    Delphinidae     Pseudorca      P. crassidens   \n","25    Balaenopteridae Balaenoptera   B. acutorostrata\n","26    Monodontidae    Delphinapterus D. leucas       \n","27    Balaenidae      Eubalaena      E. australis    \n","28    Delphinidae     tursiops       T. truncatus    \n","29    Delphinidae     Peponocephala  P. electra      \n","30    Delphinidae     Pseudorca      P. crassidens   \n","⋮     ⋮               ⋮              ⋮               \n","51004 Delphinidae     Lagenorhynchus L. obscurus     \n","51005 Balaenopteridae Balaenoptera   B. musculus     \n","51006 Delphinidae     Peponocephala  P. electra      \n","51007 Monodontidae    Delphinapterus D. leucas       \n","51008 Delphinidae     tursiops       T. truncatus    \n","51009 Balaenopteridae Megaptera      M. novaeangliae \n","51010 Balaenopteridae Megaptera      M. novaeangliae \n","51011 Delphinidae     tursiops       T. truncatus    \n","51012 Delphinidae     tursiops       T. truncatus    \n","51013 Delphinidae     Globicephala   G. melas        \n","51014 Balaenopteridae Balaenoptera   B. musculus     \n","51015 Monodontidae    Delphinapterus D. leucas       \n","51016 Balaenopteridae Megaptera      M. novaeangliae \n","51017 Balaenidae      Eubalaena      E. australis    \n","51018 Delphinidae     Pseudorca      P. crassidens   \n","51019 Delphinidae     Lagenorhynchus L. obscurus     \n","51020 Delphinidae     tursiops       T. truncatus    \n","51021 Monodontidae    Delphinapterus D. leucas       \n","51022 Delphinidae     Stenella       S. longirostris \n","51023 Delphinidae     Globicephala   G. melas        \n","51024 Monodontidae    Delphinapterus D. leucas       \n","51025 Delphinidae     Pseudorca      P. crassidens   \n","51026 Balaenopteridae Megaptera      M. novaeangliae \n","51027 Delphinidae     Pseudorca      P. crassidens   \n","51028 Balaenopteridae Balaenoptera   B. physalus     \n","51029 Monodontidae    Delphinapterus D. leucas       \n","51030 Ziphiidae       Ziphius        Z. cavirostris  \n","51031 Balaenopteridae Balaenoptera   B. musculus     \n","51032 Monodontidae    Delphinapterus D. leucas       \n","51033 Delphinidae     tursiops       T. truncatus    "]},"metadata":{},"output_type":"display_data"}],"source":["\"/kaggle/input/happywhaleindividualtaxonomy/final.csv\" %>%\n","    read_csv(col_types = 'c')"]},{"cell_type":"code","execution_count":4,"id":"e9ec8f6b","metadata":{"execution":{"iopub.execute_input":"2022-03-09T10:54:12.678919Z","iopub.status.busy":"2022-03-09T10:54:12.676802Z","iopub.status.idle":"2022-03-09T10:54:13.031173Z","shell.execute_reply":"2022-03-09T10:54:13.029335Z"},"papermill":{"duration":0.391357,"end_time":"2022-03-09T10:54:13.031355","exception":false,"start_time":"2022-03-09T10:54:12.639998","status":"completed"},"tags":[]},"outputs":[],"source":["getNodes <- function(node) {\n","    \"/kaggle/input/happywhaleindividualtaxonomy/final.csv\" %>%\n","        read_csv(col_types = 'c') %>%\n","        group_by({{node}}) %>%\n","        summarise(\n","            nbr_individuals = n_distinct(individual_id),\n","            nbr_images = n(),\n","        ) %>%\n","        rename(name = {{node}})\n","}\n","nodes <- getNodes(infraorder) %>% \n","    bind_rows(getNodes(family)) %>%\n","    bind_rows(getNodes(genus)) %>%\n","    bind_rows(getNodes(specy))"]},{"cell_type":"code","execution_count":5,"id":"918e30c0","metadata":{"execution":{"iopub.execute_input":"2022-03-09T10:54:13.102488Z","iopub.status.busy":"2022-03-09T10:54:13.100893Z","iopub.status.idle":"2022-03-09T10:54:13.347743Z","shell.execute_reply":"2022-03-09T10:54:13.346178Z"},"papermill":{"duration":0.283451,"end_time":"2022-03-09T10:54:13.347927","exception":false,"start_time":"2022-03-09T10:54:13.064476","status":"completed"},"tags":[]},"outputs":[{"name":"stderr","output_type":"stream","text":["`summarise()` has grouped output by 'infraorder'. You can override using the `.groups` argument.\n","\n","`summarise()` has grouped output by 'family'. You can override using the `.groups` argument.\n","\n","`summarise()` has grouped output by 'genus'. You can override using the `.groups` argument.\n","\n"]}],"source":["getEdges <- function(edge1, edge2) {\n","    \"/kaggle/input/happywhaleindividualtaxonomy/final.csv\" %>%\n","        read_csv(col_types = 'c') %>%\n","        group_by({{edge1}}, {{edge2}}) %>%\n","        summarise(\n","            counts = n()\n","        ) %>%\n","        select({{edge1}}, {{edge2}}) %>%\n","        rename(from = {{edge1}}, to = {{edge2}})\n","}\n","\n","edges <- getEdges(infraorder, family) %>%\n","    bind_rows(getEdges(family, genus)) %>%\n","    bind_rows(getEdges(genus, specy))"]},{"cell_type":"code","execution_count":6,"id":"b6f65a8e","metadata":{"execution":{"iopub.execute_input":"2022-03-09T10:54:13.425046Z","iopub.status.busy":"2022-03-09T10:54:13.42293Z","iopub.status.idle":"2022-03-09T10:54:13.537155Z","shell.execute_reply":"2022-03-09T10:54:13.535675Z"},"papermill":{"duration":0.154075,"end_time":"2022-03-09T10:54:13.537309","exception":false,"start_time":"2022-03-09T10:54:13.383234","status":"completed"},"tags":[]},"outputs":[{"data":{"text/plain":["\u001b[90m# A tbl_graph: 50 nodes and 49 edges\n","\u001b[39m\u001b[90m#\n","\u001b[39m\u001b[90m# A rooted tree\n","\u001b[39m\u001b[90m#\n","\u001b[39m\u001b[90m# Node Data: 50 × 3 (active)\u001b[39m\n","  name            nbr_individuals nbr_images\n","  \u001b[3m\u001b[90m<chr>\u001b[39m\u001b[23m                     \u001b[3m\u001b[90m<int>\u001b[39m\u001b[23m      \u001b[3m\u001b[90m<int>\u001b[39m\u001b[23m\n","\u001b[90m1\u001b[39m Cetacea                   \u001b[4m1\u001b[24m\u001b[4m5\u001b[24m587      \u001b[4m5\u001b[24m\u001b[4m1\u001b[24m033\n","\u001b[90m2\u001b[39m Balaenidae                  549        866\n","\u001b[90m3\u001b[39m Balaenopteridae            \u001b[4m6\u001b[24m047      \u001b[4m1\u001b[24m\u001b[4m6\u001b[24m859\n","\u001b[90m4\u001b[39m Delphinidae                \u001b[4m7\u001b[24m796      \u001b[4m2\u001b[24m\u001b[4m5\u001b[24m524\n","\u001b[90m5\u001b[39m Monodontidae               \u001b[4m1\u001b[24m012       \u001b[4m7\u001b[24m443\n","\u001b[90m6\u001b[39m Ziphiidae                   183        341\n","\u001b[90m# … with 44 more rows\u001b[39m\n","\u001b[90m#\n","\u001b[39m\u001b[90m# Edge Data: 49 × 2\u001b[39m\n","   from    to\n","  \u001b[3m\u001b[90m<int>\u001b[39m\u001b[23m \u001b[3m\u001b[90m<int>\u001b[39m\u001b[23m\n","\u001b[90m1\u001b[39m     1     2\n","\u001b[90m2\u001b[39m     1     3\n","\u001b[90m3\u001b[39m     1     4\n","\u001b[90m# … with 46 more rows\u001b[39m"]},"metadata":{},"output_type":"display_data"}],"source":["g <- tbl_graph(nodes, edges)\n","g"]},{"cell_type":"code","execution_count":7,"id":"1ecfff35","metadata":{"execution":{"iopub.execute_input":"2022-03-09T10:54:13.619803Z","iopub.status.busy":"2022-03-09T10:54:13.617737Z","iopub.status.idle":"2022-03-09T10:54:15.611334Z","shell.execute_reply":"2022-03-09T10:54:15.609514Z"},"papermill":{"duration":2.035711,"end_time":"2022-03-09T10:54:15.611491","exception":false,"start_time":"2022-03-09T10:54:13.57578","status":"completed"},"tags":[]},"outputs":[{"name":"stderr","output_type":"stream","text":["Saving 12.5 x 6.67 in image\n","\n"]}],"source":["plot <- ggraph(g, layout = 'dendrogram', circular = TRUE) + \n","  geom_edge_diagonal() + \n","  geom_node_point(aes(filter = leaf, size = nbr_individuals)) + \n","  coord_fixed() +\n"," geom_node_text(aes(label = name))\n","\n","ggsave(\"plot.png\", plot, dpi = 600)"]},{"cell_type":"markdown","id":"10bee96c","metadata":{"papermill":{"duration":0.037911,"end_time":"2022-03-09T10:54:15.6874","exception":false,"start_time":"2022-03-09T10:54:15.649489","status":"completed"},"tags":[]},"source":["![](plot.png)"]}],"metadata":{"kernelspec":{"display_name":"R","language":"R","name":"ir"},"language_info":{"codemirror_mode":"r","file_extension":".r","mimetype":"text/x-r-source","name":"R","pygments_lexer":"r","version":"4.0.5"},"papermill":{"default_parameters":{},"duration":36.601587,"end_time":"2022-03-09T10:54:15.835879","environment_variables":{},"exception":null,"input_path":"__notebook__.ipynb","output_path":"__notebook__.ipynb","parameters":{},"start_time":"2022-03-09T10:53:39.234292","version":"2.3.3"}},"nbformat":4,"nbformat_minor":5}